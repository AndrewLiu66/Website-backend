(this["webpackJsonpmatx-react-pro"]=this["webpackJsonpmatx-react-pro"]||[]).push([[33],{1277:function(e,t,r){"use strict";r.r(t);var a=r(173);r.d(t,"BufferObject",(function(){return a.a}));var i=r(204);r.d(t,"FramebufferObject",(function(){return i.a}));var n=r(254);r.d(t,"Program",(function(){return n.a}));var o=r(756);r.d(t,"ProgramCache",(function(){return o.a}));var s=r(342);r.d(t,"Renderbuffer",(function(){return s.a}));var u=r(258);r.d(t,"ShaderCompiler",(function(){return u.a}));var c=r(182);r.d(t,"Texture",(function(){return c.a}));var l=r(174);r.d(t,"VertexArrayObject",(function(){return l.a}));var h=r(626);r.d(t,"glslifyDefineMap",(function(){return h.a}));var p=r(205);r.d(t,"createProgram",(function(){return p.a}));var _=r(212);r.d(t,"createContextOrErrorHTML",(function(){return _.c}))},182:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var a=r(5),i=r(142),n=r(143),o=(r(147),r(185)),s=r(146),u=r(301),c=r(212),l=r(153),h=r(422),p=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(Object(i.a)(this,e),this._context=t,this.type="texture",this._glName=null,this._descriptor=void 0,this._samplingModeDirty=!1,this._wrapModeDirty=!1,this._wasImmutablyAllocated=!1,t.instanceCounter.increment(l.t.Texture,this),this._descriptor=Object(a.a)({target:l.A.TEXTURE_2D,samplingMode:l.z.LINEAR,wrapMode:l.B.REPEAT,flipped:!1,hasMipmap:!1,isOpaque:!1,unpackAlignment:4,preMultiplyAlpha:!1,isImmutable:!1},r),t.type!==c.a.WEBGL2&&(this._descriptor.isImmutable&&(this._descriptor.isImmutable=!1),m(this._descriptor.target)))throw new Error("3D and array textures are not supported in WebGL1");this._descriptor.target===l.A.TEXTURE_CUBE_MAP?this._setDataCubeMap(n):this.setData(n)}return Object(n.a)(e,[{key:"glName",get:function(){return this._glName}},{key:"descriptor",get:function(){return this._descriptor}},{key:"isDirty",get:function(){return this._samplingModeDirty||this._wrapModeDirty}},{key:"dispose",value:function(){this._context.gl&&this._glName&&(this._context.unbindTexture(this),this._context.gl.deleteTexture(this._glName),this._glName=null,this._context.instanceCounter.decrement(l.t.Texture,this))}},{key:"release",value:function(){this.dispose()}},{key:"resize",value:function(e,t){var r=this._descriptor;if(r.width!==e||r.height!==t){if(this._wasImmutablyAllocated)throw new Error("Immutable textures can't be resized!");r.width=e,r.height=t,this._descriptor.target===l.A.TEXTURE_CUBE_MAP?this._setDataCubeMap(null):this.setData(null)}}},{key:"_setDataCubeMap",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=l.A.TEXTURE_CUBE_MAP_POSITIVE_X;t<=l.A.TEXTURE_CUBE_MAP_NEGATIVE_Z;t++)this._setData(e,t)}},{key:"setData",value:function(e){this._setData(e)}},{key:"_setData",value:function(t,r){var a,i,n=this;if(this._context&&this._context.gl){var o=this._context.gl;this._glName||(this._glName=o.createTexture()),void 0===t&&(t=null);var c=this._descriptor;null!==(a=r)&&void 0!==a||(r=c.target);var p=m(r);null===t&&(c.width=c.width||4,c.height=c.height||4,p&&(c.depth=null!==(i=c.depth)&&void 0!==i?i:1));var E=this._context.bindTexture(this,e.TEXTURE_UNIT_FOR_UPDATES);this._context.setActiveTexture(e.TEXTURE_UNIT_FOR_UPDATES),e._validateTexture(this._context,c),this._configurePixelStorage();var g=c.pixelFormat,T=c.internalFormat?c.internalFormat:this._deriveInternalFormat(g,c.dataType);if(d(t)){var v=t.width,x=t.height;t instanceof HTMLVideoElement&&(v=t.videoWidth,x=t.videoHeight),c.width&&c.height,p&&c.depth,c.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(r,T,c.hasMipmap,v,x,1),this._texImage(r,0,T,v,x,1,t),Object(u.a)(o),c.hasMipmap&&this.generateMipmap(),void 0===c.width&&(c.width=v),void 0===c.height&&(c.height=x),p&&void 0===c.depth&&(c.depth=1)}else{var b=c.width,A=c.height,M=c.depth;if(null!=b&&null!=A||console.error("Width and height must be specified!"),p&&null==M&&console.error("Depth must be specified!"),c.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(r,T,c.hasMipmap,b,A,M),o.DEPTH24_STENCIL8&&T===o.DEPTH_STENCIL&&(T=o.DEPTH24_STENCIL8),_(t)){var I=t.levels,w=f(r,b,A,M),y=Math.min(w-1,I.length-1);Object(h.a)(o)?o.texParameteri(c.target,o.TEXTURE_MAX_LEVEL,y):c.hasMipmap=c.hasMipmap&&w===I.length;var R=T;if(!function(e){return e in l.i}(R))throw new Error("Attempting to use compressed data with an umcompressed format!");this._forEachMipmapLevel((function(e,t,a,i){var o=I[Math.min(e,I.length-1)];n._compressedTexImage(r,e,R,t,a,i,o)}),y)}else Object(s.k)(t)?(this._texImage(r,0,T,b,A,M,t),Object(u.a)(o),c.hasMipmap&&this.generateMipmap()):this._forEachMipmapLevel((function(e,t,a,i){n._texImage(r,e,T,t,a,i,null),Object(u.a)(o)}))}e._applySamplingMode(o,this._descriptor),e._applyWrapMode(o,this._descriptor),e._applyAnisotropicFilteringParameters(this._context,this._descriptor),Object(u.a)(o),this._context.bindTexture(E,e.TEXTURE_UNIT_FOR_UPDATES)}}},{key:"updateData",value:function(t,r,a,i,n,o){o||console.error("An attempt to use uninitialized data!"),this._glName||console.error("An attempt to update uninitialized texture!");var s=this._context.gl,u=this._descriptor,c=u.pixelFormat,l=u.internalFormat,h=u.dataType,p=u.isImmutable,m=u.target;if(p&&!this._wasImmutablyAllocated)throw new Error("Cannot update immutable texture before allocation!");var f=this._context.bindTexture(this,e.TEXTURE_UNIT_FOR_UPDATES);(r<0||a<0||i>u.width||n>u.height||r+i>u.width||a+n>u.height)&&console.error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage(),d(o)?s.texSubImage2D(m,t,r,a,c,h,o):_(o)?s.compressedTexSubImage2D(m,t,r,a,i,n,l,o.levels[t]):s.texSubImage2D(m,t,r,a,i,n,c,h,o),this._context.bindTexture(f,e.TEXTURE_UNIT_FOR_UPDATES)}},{key:"updateData3D",value:function(t,r,a,i,n,o,s,u){u||console.error("An attempt to use uninitialized data!"),this._glName||console.error("An attempt to update uninitialized texture!");var c=this._context.gl;if(!Object(h.a)(c))throw new Error("3D textures are not supported in WebGL1");var l=this._descriptor,p=l.pixelFormat,d=l.dataType,f=l.isImmutable,E=l.target,g=l.internalFormat;if(f&&!this._wasImmutablyAllocated)throw new Error("Cannot update immutable texture before allocation!");m(E)||console.warn("Attempting to set 3D texture data on a non-3D texture");var T=this._context.bindTexture(this,e.TEXTURE_UNIT_FOR_UPDATES);if(this._context.setActiveTexture(e.TEXTURE_UNIT_FOR_UPDATES),(r<0||a<0||i<0||n>l.width||o>l.height||s>l.depth||r+n>l.width||a+o>l.height||i+s>l.depth)&&console.error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage(),_(u))u=u.levels[t],c.compressedTexSubImage3D(E,t,r,a,i,n,o,s,g,u);else{var v=u;c.texSubImage3D(E,t,r,a,i,n,o,s,p,d,v)}this._context.bindTexture(T,e.TEXTURE_UNIT_FOR_UPDATES)}},{key:"generateMipmap",value:function(){var t=this._descriptor;if(!t.hasMipmap){if(this._wasImmutablyAllocated)throw new Error("Cannot add mipmaps to immutable texture after allocation");t.hasMipmap=!0,this._samplingModeDirty=!0,e._validateTexture(this._context,t)}t.samplingMode===l.z.LINEAR?(this._samplingModeDirty=!0,t.samplingMode=l.z.LINEAR_MIPMAP_NEAREST):t.samplingMode===l.z.NEAREST&&(this._samplingModeDirty=!0,t.samplingMode=l.z.NEAREST_MIPMAP_NEAREST);var r=this._context.bindTexture(this,e.TEXTURE_UNIT_FOR_UPDATES);this._context.setActiveTexture(e.TEXTURE_UNIT_FOR_UPDATES),this._context.gl.generateMipmap(t.target),this._context.bindTexture(r,e.TEXTURE_UNIT_FOR_UPDATES)}},{key:"setSamplingMode",value:function(e){e!==this._descriptor.samplingMode&&(this._descriptor.samplingMode=e,this._samplingModeDirty=!0)}},{key:"setWrapMode",value:function(t){t!==this._descriptor.wrapMode&&(this._descriptor.wrapMode=t,e._validateTexture(this._context,this._descriptor),this._wrapModeDirty=!0)}},{key:"applyChanges",value:function(){var t=this._context.gl,r=this._descriptor;this._samplingModeDirty&&(e._applySamplingMode(t,r),this._samplingModeDirty=!1),this._wrapModeDirty&&(e._applyWrapMode(t,r),this._wrapModeDirty=!1)}},{key:"_deriveInternalFormat",value:function(e,t){if(this._context.type===c.a.WEBGL1)return e;switch(t){case l.q.FLOAT:switch(e){case l.p.RGBA:return l.v.RGBA32F;case l.p.RGB:return l.v.RGB32F;default:throw new Error("Unable to derive format")}case l.q.UNSIGNED_BYTE:switch(e){case l.p.RGBA:return l.v.RGBA8;case l.p.RGB:return l.v.RGB8}default:return e}}},{key:"_configurePixelStorage",value:function(){var e=this._context.gl,t=this._descriptor,r=t.unpackAlignment,a=t.flipped,i=t.preMultiplyAlpha;e.pixelStorei(e.UNPACK_ALIGNMENT,r),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,a?1:0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i?1:0)}},{key:"_texStorage",value:function(e,t,r,a,i,n){var o=this._context.gl;if(!Object(h.a)(o))throw new Error("Immutable textures are not supported in WebGL1");if(!function(e){return e in l.v}(t))throw new Error("Immutable textures must have a sized internal format");if(this._descriptor.isImmutable){var s=r?f(e,a,i,n):1;m(e)?o.texStorage3D(e,s,t,a,i,n):o.texStorage2D(e,s,t,a,i),this._wasImmutablyAllocated=!0}}},{key:"_texImage",value:function(e,t,r,a,i,n,o){var u=this._context.gl,l=null,h=this._context.type===c.a.WEBGL2,p=m(e),_=this._descriptor,f=_.isImmutable,E=_.pixelFormat,g=_.dataType;if(h&&(l=u),h||!d(o))if(f){if(Object(s.k)(o)){var T=o;p?l.texSubImage3D(e,t,0,0,0,a,i,n,E,g,T):u.texSubImage2D(e,t,0,0,a,i,E,g,T)}}else{var v=Object(s.q)(o);p?l.texImage3D(e,t,r,a,i,n,0,E,g,v):u.texImage2D(e,t,r,a,i,0,E,g,v)}else u.texImage2D(e,0,r,E,g,o)}},{key:"_compressedTexImage",value:function(e,t,r,a,i,n,o){var u=this._context.gl,l=null,h=m(e),p=this._descriptor.isImmutable;if(h){if(this._context.type!==c.a.WEBGL2)throw new Error("3D textures are not supported in WebGL1");l=u}p?Object(s.k)(o)&&(h?l.compressedTexSubImage3D(e,t,0,0,0,a,i,n,r,o):u.compressedTexSubImage2D(e,t,0,0,a,i,r,o)):h?l.compressedTexImage3D(e,t,r,a,i,n,0,o):u.compressedTexImage2D(e,t,r,a,i,0,o)}},{key:"_forEachMipmapLevel",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,r=this._descriptor,a=r.width,i=r.height,n=r.depth,o=r.hasMipmap,s=r.target,u=s===l.A.TEXTURE_3D,c=0;e(c,a,i,n),o&&(1!==a||1!==i||u&&1!==n)&&!(c>=t);++c)a=Math.max(1,a>>1),i=Math.max(1,i>>1),u&&(n=Math.max(1,n>>1))}}],[{key:"_validateTexture",value:function(e,t){(t.width<0||t.height<0||t.depth<0)&&console.error("Negative dimension parameters are not allowed!");var r=Object(h.a)(e.gl),a=Object(o.h)(t.width)&&Object(o.h)(t.height);r||!t.isImmutable&&!m(t.target)||console.error("Immutable and 3D-like textures are not supported in WebGL1!"),r||a||("number"==typeof t.wrapMode?t.wrapMode!==l.B.CLAMP_TO_EDGE&&console.error("Non-power-of-two textures must have a wrap mode of CLAMP_TO_EDGE!"):t.wrapMode.s===l.B.CLAMP_TO_EDGE&&t.wrapMode.t===l.B.CLAMP_TO_EDGE||console.error("Non-power-of-two textures must have a wrap mode of CLAMP_TO_EDGE!"),t.hasMipmap&&console.error("Mipmapping requires power-of-two textures!"))}},{key:"_applySamplingMode",value:function(e,t){var r=t.samplingMode,a=t.samplingMode;r===l.z.LINEAR_MIPMAP_NEAREST||r===l.z.LINEAR_MIPMAP_LINEAR?(r=l.z.LINEAR,t.hasMipmap||(a=l.z.LINEAR)):r!==l.z.NEAREST_MIPMAP_NEAREST&&r!==l.z.NEAREST_MIPMAP_LINEAR||(r=l.z.NEAREST,t.hasMipmap||(a=l.z.NEAREST)),e.texParameteri(t.target,e.TEXTURE_MAG_FILTER,r),e.texParameteri(t.target,e.TEXTURE_MIN_FILTER,a)}},{key:"_applyWrapMode",value:function(e,t){"number"==typeof t.wrapMode?(e.texParameteri(t.target,e.TEXTURE_WRAP_S,t.wrapMode),e.texParameteri(t.target,e.TEXTURE_WRAP_T,t.wrapMode)):(e.texParameteri(t.target,e.TEXTURE_WRAP_S,t.wrapMode.s),e.texParameteri(t.target,e.TEXTURE_WRAP_T,t.wrapMode.t))}},{key:"_applyAnisotropicFilteringParameters",value:function(e,t){var r,a=e.capabilities.textureFilterAnisotropic;a&&e.gl.texParameterf(t.target,a.TEXTURE_MAX_ANISOTROPY,null!==(r=t.maxAnisotropy)&&void 0!==r?r:1)}}]),e}();function _(e){return Object(s.k)(e)&&"type"in e&&"compressed"===e.type}function d(e){return Object(s.k)(e)&&!_(e)&&!function(e){return Object(s.k)(e)&&"byteLength"in e}(e)}function m(e){return e===l.A.TEXTURE_3D||e===l.A.TEXTURE_2D_ARRAY}function f(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=Math.max(t,r);return e===l.A.TEXTURE_3D&&(i=Math.max(i,a)),Math.round(Math.log(i)/Math.LN2)+1}p.TEXTURE_UNIT_FOR_UPDATES=0},301:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return u}));var a=r(159),i=r(147),n=r(157).a.getLogger("esri/views/webgl");var o=!!Object(i.a)("enable-feature:webgl-debug");function s(){return o}function u(){return o}function c(e){if(s()){var t=e.getError();if(t){var r=function(e,t){switch(t){case e.INVALID_ENUM:return"Invalid Enum. An unacceptable value has been specified for an enumerated argument.";case e.INVALID_VALUE:return"Invalid Value. A numeric argument is out of range.";case e.INVALID_OPERATION:return"Invalid Operation. The specified command is not allowed for the current state.";case e.INVALID_FRAMEBUFFER_OPERATION:return"Invalid Framebuffer operation. The currently bound framebuffer is not framebuffer complete when trying to render to or to read from it.";case e.OUT_OF_MEMORY:return"Out of memory. Not enough memory is left to execute the command.";case e.CONTEXT_LOST_WEBGL:return"WebGL context has been lost";default:return"Unknown error"}}(e,t),i=(new Error).stack;n.error(new a.a("webgl-error","WebGL error occured",{message:r,stack:i}))}}}},422:function(e,t,r){"use strict";function a(e){return window.WebGL2RenderingContext&&e instanceof window.WebGL2RenderingContext}r.d(t,"a",(function(){return a}))},626:function(e,t,r){"use strict";function a(e){return"number"==typeof e.options[e.value]}function i(e){var t="";for(var r in e){var i=e[r];if("boolean"==typeof i)i&&(t+="#define ".concat(r,"\n"));else if("number"==typeof i)t+="#define ".concat(r," ").concat(i.toFixed(),"\n");else if("object"==typeof i)if(a(i)){var n=i.value,o=i.options,s=i.namespace,u=s?"".concat(s,"_"):"";for(var c in o)t+="#define ".concat(u).concat(c," ").concat(o[c].toFixed(),"\n");t+="#define ".concat(r," ").concat(u).concat(n,"\n")}else{var l=i.options,h=0;for(var p in l)t+="#define ".concat(l[p]," ").concat((h++).toFixed(),"\n");t+="#define ".concat(r," ").concat(l[i.value],"\n")}}return t}r.d(t,"a",(function(){return i}))},756:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var a=r(142),i=r(143),n=r(146),o=function(){function e(){Object(a.a)(this,e),this._outer=new Map}return Object(i.a)(e,[{key:"clear",value:function(){this._outer.clear()}},{key:"empty",get:function(){return 0===this._outer.size}},{key:"get",value:function(e,t){var r;return null===(r=this._outer.get(e))||void 0===r?void 0:r.get(t)}},{key:"set",value:function(e,t,r){var a=this._outer.get(e);a?a.set(t,r):this._outer.set(e,new Map([[t,r]]))}},{key:"delete",value:function(e,t){var r=this._outer.get(e);r&&(r.delete(t),0===r.size&&this._outer.delete(e))}},{key:"forEach",value:function(e){this._outer.forEach((function(t,r){return e(t,r)}))}}]),e}(),s=r(254),u=function(){function e(t){Object(a.a)(this,e),this._rctx=t,this._store=new o}return Object(i.a)(e,[{key:"dispose",value:function(){this._store.forEach((function(e){return e.forEach((function(e){return e.dispose()}))})),this._store.clear()}},{key:"acquire",value:function(e,t,r,a){var i=this._store.get(e,t);if(Object(n.k)(i))return i.ref(),i;var o=new s.a(this._rctx,e,t,r,a);return o.ref(),this._store.set(e,t,o),o}},{key:"test",get:function(){var e=0;return this._store.forEach((function(t){return t.forEach((function(t){return e+=t.hasGLName?2:1}))})),{cachedWebGLObjects:e}}}]),e}()}}]);