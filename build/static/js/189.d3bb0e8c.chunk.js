(this["webpackJsonpmatx-react-pro"]=this["webpackJsonpmatx-react-pro"]||[]).push([[189],{1330:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return f}));var a=r(5),i=r(142),n=r(143),s=r(162),l=r(161),u=r(144),c=r(145),o=r(148),y=r(146),b=r(175),p=(r(157),r(150),r(152),r(147),r(234),r(149)),h=r(698);var d=function(e){Object(u.a)(r,e);var t=Object(c.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(n.a)(r,[{key:"initialize",value:function(){var e=this;this.handles.add([Object(b.e)((function(){var t;return null===(t=e.view)||void 0===t?void 0:t.viewpoint}),(function(){return e._update()}),b.a)])}},{key:"_injectOverrides",value:function(e){var t=Object(s.a)(Object(l.a)(r.prototype),"_injectOverrides",this).call(this,e),a=this.view.scale,i=this.layer.sublayers.filter((function(e){return function(e,t){return!e.visible||0!==e.minScale&&t>e.minScale||0!==e.maxScale&&t<e.maxScale}(e,a)})).map((function(e){return e.subtypeCode}));if(!i.length)return t;t=Object(y.k)(t)?t:(new h.a).toJSON();var n="NOT ".concat(this.layer.subtypeField," IN (").concat(i.join(","),")");return t.where=t.where?"(".concat(t.where,") AND (").concat(n,")"):n,t}},{key:"_setLayersForFeature",value:function(e){var t=this.layer.fieldsIndex.get(this.layer.subtypeField),r=e.attributes[t.name],a=this.layer.sublayers.find((function(e){return e.subtypeCode===r}));e.layer=a,e.sourceLayer=this.layer}},{key:"_createSchemaConfig",value:function(){var e=this,t={subtypeField:this.layer.subtypeField,sublayers:Array.from(this.layer.sublayers).map((function(t){return{featureReduction:null,geometryType:e.layer.geometryType,labelingInfo:t.labelingInfo,labelsVisible:t.labelsVisible,renderer:t.renderer,subtypeCode:t.subtypeCode,orderBy:null}}))},i=this.layer.sublayers.map((function(e){return e.subtypeCode})).join(","),n=this.layer.sublayers.length?"".concat(this.layer.subtypeField," IN (").concat(i,")"):"1=2",u=this.layer.definitionExpression?this.layer.definitionExpression+" AND ":"";return u+=n,Object(a.a)(Object(a.a)(Object(a.a)({},Object(s.a)(Object(l.a)(r.prototype),"_createSchemaConfig",this).call(this)),t),{},{definitionExpression:u})}}]),r}(r(893).default),f=d=Object(o.a)([Object(p.a)("esri.views.2d.layers.SubtypeGroupLayerView2D")],d)}}]);