(this["webpackJsonpmatx-react-pro"]=this["webpackJsonpmatx-react-pro"]||[]).push([[0],{156:function(t,e,r){"use strict";var n,i,a,o,u,s,c,l;r.d(e,"a",(function(){return c})),r.d(e,"b",(function(){return o})),r.d(e,"c",(function(){return a})),r.d(e,"d",(function(){return n})),r.d(e,"e",(function(){return l})),r.d(e,"f",(function(){return u})),r.d(e,"g",(function(){return s})),function(t){t[t.FILL=0]="FILL",t[t.LINE=1]="LINE",t[t.MARKER=2]="MARKER",t[t.TEXT=3]="TEXT",t[t.LABEL=4]="LABEL"}(n||(n={})),function(t){t[t.SUCCEEDED=0]="SUCCEEDED",t[t.FAILED_OUT_OF_MEMORY=1]="FAILED_OUT_OF_MEMORY"}(i||(i={})),function(t){t[t.NONE=0]="NONE",t[t.MAP=1]="MAP",t[t.LABEL=2]="LABEL",t[t.LABEL_ALPHA=4]="LABEL_ALPHA",t[t.HITTEST=8]="HITTEST",t[t.HIGHLIGHT=16]="HIGHLIGHT",t[t.CLIP=32]="CLIP",t[t.DEBUG=64]="DEBUG",t[t.NUM_DRAW_PHASES=9]="NUM_DRAW_PHASES"}(a||(a={})),function(t){t[t.SIZE=0]="SIZE",t[t.COLOR=1]="COLOR",t[t.OPACITY=2]="OPACITY",t[t.ROTATION=3]="ROTATION"}(o||(o={})),function(t){t[t.NONE=0]="NONE",t[t.OPACITY=1]="OPACITY",t[t.COLOR=2]="COLOR",t[t.ROTATION=4]="ROTATION",t[t.SIZE_MINMAX_VALUE=8]="SIZE_MINMAX_VALUE",t[t.SIZE_SCALE_STOPS=16]="SIZE_SCALE_STOPS",t[t.SIZE_FIELD_STOPS=32]="SIZE_FIELD_STOPS",t[t.SIZE_UNIT_VALUE=64]="SIZE_UNIT_VALUE"}(u||(u={})),function(t){t[t.MINMAX_TARGETS_OUTLINE=128]="MINMAX_TARGETS_OUTLINE",t[t.SCALE_TARGETS_OUTLINE=256]="SCALE_TARGETS_OUTLINE",t[t.FIELD_TARGETS_OUTLINE=512]="FIELD_TARGETS_OUTLINE",t[t.UNIT_TARGETS_OUTLINE=1024]="UNIT_TARGETS_OUTLINE"}(s||(s={})),function(t){t[t.SPRITE=0]="SPRITE",t[t.GLYPH=1]="GLYPH"}(c||(c={})),function(t){t[t.DEFAULT=0]="DEFAULT",t[t.SIMPLE=1]="SIMPLE",t[t.DOT_DENSITY=2]="DOT_DENSITY",t[t.OUTLINE_FILL=3]="OUTLINE_FILL",t[t.OUTLINE_FILL_SIMPLE=4]="OUTLINE_FILL_SIMPLE",t[t.HEATMAP=5]="HEATMAP",t[t.PIE_CHART=6]="PIE_CHART"}(l||(l={}))},165:function(t,e,r){"use strict";r.d(e,"a",(function(){return Z})),r.d(e,"b",(function(){return X})),r.d(e,"c",(function(){return z})),r.d(e,"d",(function(){return Tt})),r.d(e,"e",(function(){return q})),r.d(e,"f",(function(){return K})),r.d(e,"g",(function(){return nt})),r.d(e,"h",(function(){return it})),r.d(e,"i",(function(){return H})),r.d(e,"j",(function(){return Y})),r.d(e,"k",(function(){return Et})),r.d(e,"l",(function(){return Q})),r.d(e,"m",(function(){return J})),r.d(e,"n",(function(){return D})),r.d(e,"o",(function(){return ut})),r.d(e,"p",(function(){return V})),r.d(e,"q",(function(){return ht})),r.d(e,"r",(function(){return j})),r.d(e,"s",(function(){return ct})),r.d(e,"t",(function(){return ot})),r.d(e,"u",(function(){return It})),r.d(e,"v",(function(){return W})),r.d(e,"w",(function(){return dt})),r.d(e,"x",(function(){return pt})),r.d(e,"y",(function(){return at})),r.d(e,"z",(function(){return _t})),r.d(e,"A",(function(){return ft})),r.d(e,"B",(function(){return B}));var n=r(7),i=r(60),a=r(159),o=r(157),u=(r(185),r(168),r(171)),s=(r(192),r(156)),c=r(142),l=r(143),d=r(353),h=function(){function t(){Object(c.a)(this,t),this.color=[0,0,0,0],this.haloColor=[0,0,0,0],this.haloSize=0,this.size=12,this.angle=0,this.offsetX=0,this.offsetY=0,this.hAnchor=0,this.vAnchor=0}return Object(l.a)(t,[{key:"acquire",value:function(t,e,r,n,i,a,o,u,s){this.color=t,this.haloColor=e,this.haloSize=r,this.size=n,this.angle=i,this.offsetX=a,this.offsetY=o,this.hAnchor=u,this.vAnchor=s}},{key:"release",value:function(){this.color[0]=this.color[1]=this.color[2]=this.color[3]=0,this.haloColor[0]=this.haloColor[1]=this.haloColor[2]=this.haloColor[3]=0,this.haloSize=0,this.size=0,this.angle=0,this.offsetX=0,this.offsetY=0,this.hAnchor=0,this.vAnchor=0}}]),t}();h.pool=new d.a(h);var _=r(153),p=(r(182),r(224)),f=o.a.getLogger("esri.views.2d.engine.webgl.Utils"),E="geometry",T=[{name:E,strideInBytes:12}],m=[{name:E,strideInBytes:36}],I=[{name:E,strideInBytes:24}],A=[{name:E,strideInBytes:12}],g=[{name:E,strideInBytes:40}],v=[{name:E,strideInBytes:36}],L=[{name:E,strideInBytes:36}];function M(t){var e,r={},n=Object(i.a)(t);try{for(n.s();!(e=n.n()).done;){var a=e.value;r[a.name]=a.strideInBytes}}catch(o){n.e(o)}finally{n.f()}return r}var S=M([{name:E,strideInBytes:36}]),b=M(T),y=M(m),x=M(I),N=M(A),R=M(g),w=M(v),O=M(L);function D(t,e){switch(t){case s.d.MARKER:return e===s.e.HEATMAP?b:S;case s.d.FILL:switch(e){case s.e.DOT_DENSITY:return N;case s.e.SIMPLE:case s.e.OUTLINE_FILL_SIMPLE:return x;default:return y}case s.d.LINE:return R;case s.d.TEXT:return w;case s.d.LABEL:return O}}var U=[E],P=[E],C=[E],F=[E],k=[E];function G(t){switch(t){case s.d.MARKER:return U;case s.d.FILL:return P;case s.d.LINE:return C;case s.d.TEXT:return F;case s.d.LABEL:return k}}function B(t){switch(t%4){case 0:case 2:return 4;case 1:case 3:return 1}}function X(t,e){switch(e%4){case 0:case 2:return new Uint32Array(Math.floor(t*e/4));case 1:case 3:return new Uint8Array(t*e)}}function z(t,e){switch(e%4){case 0:case 2:return new Uint32Array(t);case 1:case 3:return new Uint8Array(t)}}function j(t){return null!=t}function W(t){return"number"==typeof t}function H(t){switch(t){case"butt":return u.e.BUTT;case"round":return u.e.ROUND;case"square":return u.e.SQUARE;default:return f.error(new a.a("mapview-invalid-type","Cap type ".concat(t," is not a valid option. Defaulting to round"))),u.e.ROUND}}function Y(t){switch(t){case"miter":return u.p.MITER;case"bevel":return u.p.BEVEL;case"round":return u.p.ROUND;default:return f.error(new a.a("mapview-invalid-type","Join type ".concat(t," is not a valid option. Defaulting to round"))),u.p.ROUND}}function V(t){switch(t){case"opacity":return s.b.OPACITY;case"color":return s.b.COLOR;case"rotation":return s.b.ROTATION;case"size":return s.b.SIZE;default:return f.error("Cannot interpret unknown vv: ".concat(t)),null}}function q(t,e,r,n,i,a,o){for(var u in a)for(var s=a[u].stride,c=B(s),l=a[u].data,d=r[u].data,h=s*i.vertexCount/c,_=s*t/c,p=s*i.vertexFrom/c,f=0;f<h;++f)d[f+_]=l[f+p];for(var E=i.indexCount,T=0;T<E;++T)n[T+e]=o[T+i.indexFrom]-i.vertexFrom+t}var Z=Object(n.a)({},E,_.D.STATIC_DRAW);function K(t,e){for(var r=[],n=0;n<5;++n){var a,o=G(n),u={},s=Object(i.a)(o);try{for(s.s();!(a=s.n()).done;){var c=a.value;u[c]={data:e(n,c)}}}catch(l){s.e(l)}finally{s.f()}r.push({data:t(n),buffers:u})}return r}function J(t){switch(t){case _.q.UNSIGNED_BYTE:return 1;case _.q.UNSIGNED_SHORT_4_4_4_4:return 2;case _.q.FLOAT:return 4;default:return void f.error(new a.a("webgl-utils","Unable to handle type ".concat(t)))}}function Q(t){switch(t){case _.q.UNSIGNED_BYTE:return Uint8Array;case _.q.UNSIGNED_SHORT_4_4_4_4:return Uint16Array;case _.q.FLOAT:return Float32Array;default:return void f.error(new a.a("webgl-utils","Unable to handle type ".concat(t)))}}function $(t){var e={},r=function(r){var n=t[r],i=0;e[r]=n.map((function(t){var e=new p.a(t.name,t.count,t.type,i,0,t.normalized||!1);return i+=t.count*function(t){switch(t){case _.k.BYTE:case _.k.UNSIGNED_BYTE:return 1;case _.k.SHORT:case _.k.UNSIGNED_SHORT:return 2;case _.k.FLOAT:case _.k.INT:case _.k.UNSIGNED_INT:return 4}}(t.type),e})),e[r].forEach((function(t){return t.stride=i}))};for(var n in t)r(n);return e}var tt=function(t){var e=new Map;for(var r in t){var n,a=Object(i.a)(t[r]);try{for(a.s();!(n=a.n()).done;){var o=n.value;e.set(o.name,o.location)}}catch(u){a.e(u)}finally{a.f()}}return e},et=function(t){var e={};for(var r in t){var n=t[r];e[r]=n.length?n[0].stride:0}return e},rt=new Map,nt=function(t,e){if(!rt.has(t)){var r=$(e),n={strides:et(r),bufferLayouts:r,attributes:tt(e)};rt.set(t,n)}return rt.get(t)};function it(t){t(s.d.FILL),t(s.d.LINE),t(s.d.MARKER),t(s.d.TEXT),t(s.d.LABEL)}var at=function(t){return"path"in t&&mt(t.path)},ot=function(t){return"url"in t&&t.url||"imageData"in t&&t.imageData},ut=function(t){return"imageData"in t&&t.imageData&&"contentType"in t&&t.contentType?"data:".concat(t.contentType,";base64,").concat(t.imageData):"url"in t?t.url:null},st=function(t){return t.startsWith("data:image/gif")},ct=function(t){return"url"in t&&t.url&&(t.url.includes(".gif")||st(t.url))||"contentType"in t&&"image/gif"===t.contentType||"imageData"in t&&st(t.imageData)},lt=function(t){return t.startsWith("data:image/png")},dt=function(t){return"url"in t&&t.url&&(t.url.includes(".png")||lt(t.url))||"contentType"in t&&"image/png"===t.contentType||"imageData"in t&&lt(t.imageData)},ht=function(t){return t.type&&t.type.toLowerCase().includes("3d")};function _t(t){switch(t.type){case"line":var e=t;return"CIMSolidStroke"===e.cim.type&&!e.dashTemplate;case"fill":return"CIMSolidFill"===t.cim.type;case"esriSFS":return"esriSFSSolid"===t.style||"esriSFSNull"===t.style;case"esriSLS":return"esriSLSSolid"===t.style||"esriSLSNull"===t.style;default:return!1}}var pt=function(t){return t.includes("data:image/svg+xml")};function ft(t){switch("cim"in t?t.cim.type:t.type){case"esriSMS":case"esriPMS":case"CIMPointSymbol":return!1;case"CIMVectorMarker":case"CIMCharacterMarker":case"CIMPictureMarker":return It(t);default:return!0}}function Et(t){var e="maxVVSize"in t&&t.maxVVSize,r="width"in t&&t.width||"size"in t&&t.size||0;return e||r}function Tt(t){for(var e=[],r=0;r<t.length;r++)e.push(t.charCodeAt(r));return e}var mt=function(t){return!!t&&(t=t.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(t)&&/[\dz]$/i.test(t)&&t.length>4))},It=function(t){var e,r;return"fill"===t.type&&"CIMMarkerPlacementInsidePolygon"===(null===t||void 0===t||null===(e=t.cim)||void 0===e||null===(r=e.markerPlacement)||void 0===r?void 0:r.type)}},170:function(t,e,r){"use strict";r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return o})),r.d(e,"c",(function(){return i}));var n=new Float32Array(1);new Uint32Array(n.buffer);function i(t){return[255&t,(65280&t)>>>8,(16711680&t)>>>16,(4278190080&t)>>>24]}function a(t,e){return 65535&t|e<<16}function o(t,e,r,n){return 255&t|(255&e)<<8|(255&r)<<16|n<<24}},182:function(t,e,r){"use strict";r.d(e,"a",(function(){return h}));var n=r(5),i=r(142),a=r(143),o=(r(147),r(185)),u=r(146),s=r(301),c=r(212),l=r(153),d=r(422),h=function(){function t(e,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(Object(i.a)(this,t),this._context=e,this.type="texture",this._glName=null,this._descriptor=void 0,this._samplingModeDirty=!1,this._wrapModeDirty=!1,this._wasImmutablyAllocated=!1,e.instanceCounter.increment(l.t.Texture,this),this._descriptor=Object(n.a)({target:l.A.TEXTURE_2D,samplingMode:l.z.LINEAR,wrapMode:l.B.REPEAT,flipped:!1,hasMipmap:!1,isOpaque:!1,unpackAlignment:4,preMultiplyAlpha:!1,isImmutable:!1},r),e.type!==c.a.WEBGL2&&(this._descriptor.isImmutable&&(this._descriptor.isImmutable=!1),f(this._descriptor.target)))throw new Error("3D and array textures are not supported in WebGL1");this._descriptor.target===l.A.TEXTURE_CUBE_MAP?this._setDataCubeMap(a):this.setData(a)}return Object(a.a)(t,[{key:"glName",get:function(){return this._glName}},{key:"descriptor",get:function(){return this._descriptor}},{key:"isDirty",get:function(){return this._samplingModeDirty||this._wrapModeDirty}},{key:"dispose",value:function(){this._context.gl&&this._glName&&(this._context.unbindTexture(this),this._context.gl.deleteTexture(this._glName),this._glName=null,this._context.instanceCounter.decrement(l.t.Texture,this))}},{key:"release",value:function(){this.dispose()}},{key:"resize",value:function(t,e){var r=this._descriptor;if(r.width!==t||r.height!==e){if(this._wasImmutablyAllocated)throw new Error("Immutable textures can't be resized!");r.width=t,r.height=e,this._descriptor.target===l.A.TEXTURE_CUBE_MAP?this._setDataCubeMap(null):this.setData(null)}}},{key:"_setDataCubeMap",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=l.A.TEXTURE_CUBE_MAP_POSITIVE_X;e<=l.A.TEXTURE_CUBE_MAP_NEGATIVE_Z;e++)this._setData(t,e)}},{key:"setData",value:function(t){this._setData(t)}},{key:"_setData",value:function(e,r){var n,i,a=this;if(this._context&&this._context.gl){var o=this._context.gl;this._glName||(this._glName=o.createTexture()),void 0===e&&(e=null);var c=this._descriptor;null!==(n=r)&&void 0!==n||(r=c.target);var h=f(r);null===e&&(c.width=c.width||4,c.height=c.height||4,h&&(c.depth=null!==(i=c.depth)&&void 0!==i?i:1));var T=this._context.bindTexture(this,t.TEXTURE_UNIT_FOR_UPDATES);this._context.setActiveTexture(t.TEXTURE_UNIT_FOR_UPDATES),t._validateTexture(this._context,c),this._configurePixelStorage();var m=c.pixelFormat,I=c.internalFormat?c.internalFormat:this._deriveInternalFormat(m,c.dataType);if(p(e)){var A=e.width,g=e.height;e instanceof HTMLVideoElement&&(A=e.videoWidth,g=e.videoHeight),c.width&&c.height,h&&c.depth,c.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(r,I,c.hasMipmap,A,g,1),this._texImage(r,0,I,A,g,1,e),Object(s.a)(o),c.hasMipmap&&this.generateMipmap(),void 0===c.width&&(c.width=A),void 0===c.height&&(c.height=g),h&&void 0===c.depth&&(c.depth=1)}else{var v=c.width,L=c.height,M=c.depth;if(null!=v&&null!=L||console.error("Width and height must be specified!"),h&&null==M&&console.error("Depth must be specified!"),c.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(r,I,c.hasMipmap,v,L,M),o.DEPTH24_STENCIL8&&I===o.DEPTH_STENCIL&&(I=o.DEPTH24_STENCIL8),_(e)){var S=e.levels,b=E(r,v,L,M),y=Math.min(b-1,S.length-1);Object(d.a)(o)?o.texParameteri(c.target,o.TEXTURE_MAX_LEVEL,y):c.hasMipmap=c.hasMipmap&&b===S.length;var x=I;if(!function(t){return t in l.i}(x))throw new Error("Attempting to use compressed data with an umcompressed format!");this._forEachMipmapLevel((function(t,e,n,i){var o=S[Math.min(t,S.length-1)];a._compressedTexImage(r,t,x,e,n,i,o)}),y)}else Object(u.k)(e)?(this._texImage(r,0,I,v,L,M,e),Object(s.a)(o),c.hasMipmap&&this.generateMipmap()):this._forEachMipmapLevel((function(t,e,n,i){a._texImage(r,t,I,e,n,i,null),Object(s.a)(o)}))}t._applySamplingMode(o,this._descriptor),t._applyWrapMode(o,this._descriptor),t._applyAnisotropicFilteringParameters(this._context,this._descriptor),Object(s.a)(o),this._context.bindTexture(T,t.TEXTURE_UNIT_FOR_UPDATES)}}},{key:"updateData",value:function(e,r,n,i,a,o){o||console.error("An attempt to use uninitialized data!"),this._glName||console.error("An attempt to update uninitialized texture!");var u=this._context.gl,s=this._descriptor,c=s.pixelFormat,l=s.internalFormat,d=s.dataType,h=s.isImmutable,f=s.target;if(h&&!this._wasImmutablyAllocated)throw new Error("Cannot update immutable texture before allocation!");var E=this._context.bindTexture(this,t.TEXTURE_UNIT_FOR_UPDATES);(r<0||n<0||i>s.width||a>s.height||r+i>s.width||n+a>s.height)&&console.error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage(),p(o)?u.texSubImage2D(f,e,r,n,c,d,o):_(o)?u.compressedTexSubImage2D(f,e,r,n,i,a,l,o.levels[e]):u.texSubImage2D(f,e,r,n,i,a,c,d,o),this._context.bindTexture(E,t.TEXTURE_UNIT_FOR_UPDATES)}},{key:"updateData3D",value:function(e,r,n,i,a,o,u,s){s||console.error("An attempt to use uninitialized data!"),this._glName||console.error("An attempt to update uninitialized texture!");var c=this._context.gl;if(!Object(d.a)(c))throw new Error("3D textures are not supported in WebGL1");var l=this._descriptor,h=l.pixelFormat,p=l.dataType,E=l.isImmutable,T=l.target,m=l.internalFormat;if(E&&!this._wasImmutablyAllocated)throw new Error("Cannot update immutable texture before allocation!");f(T)||console.warn("Attempting to set 3D texture data on a non-3D texture");var I=this._context.bindTexture(this,t.TEXTURE_UNIT_FOR_UPDATES);if(this._context.setActiveTexture(t.TEXTURE_UNIT_FOR_UPDATES),(r<0||n<0||i<0||a>l.width||o>l.height||u>l.depth||r+a>l.width||n+o>l.height||i+u>l.depth)&&console.error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage(),_(s))s=s.levels[e],c.compressedTexSubImage3D(T,e,r,n,i,a,o,u,m,s);else{var A=s;c.texSubImage3D(T,e,r,n,i,a,o,u,h,p,A)}this._context.bindTexture(I,t.TEXTURE_UNIT_FOR_UPDATES)}},{key:"generateMipmap",value:function(){var e=this._descriptor;if(!e.hasMipmap){if(this._wasImmutablyAllocated)throw new Error("Cannot add mipmaps to immutable texture after allocation");e.hasMipmap=!0,this._samplingModeDirty=!0,t._validateTexture(this._context,e)}e.samplingMode===l.z.LINEAR?(this._samplingModeDirty=!0,e.samplingMode=l.z.LINEAR_MIPMAP_NEAREST):e.samplingMode===l.z.NEAREST&&(this._samplingModeDirty=!0,e.samplingMode=l.z.NEAREST_MIPMAP_NEAREST);var r=this._context.bindTexture(this,t.TEXTURE_UNIT_FOR_UPDATES);this._context.setActiveTexture(t.TEXTURE_UNIT_FOR_UPDATES),this._context.gl.generateMipmap(e.target),this._context.bindTexture(r,t.TEXTURE_UNIT_FOR_UPDATES)}},{key:"setSamplingMode",value:function(t){t!==this._descriptor.samplingMode&&(this._descriptor.samplingMode=t,this._samplingModeDirty=!0)}},{key:"setWrapMode",value:function(e){e!==this._descriptor.wrapMode&&(this._descriptor.wrapMode=e,t._validateTexture(this._context,this._descriptor),this._wrapModeDirty=!0)}},{key:"applyChanges",value:function(){var e=this._context.gl,r=this._descriptor;this._samplingModeDirty&&(t._applySamplingMode(e,r),this._samplingModeDirty=!1),this._wrapModeDirty&&(t._applyWrapMode(e,r),this._wrapModeDirty=!1)}},{key:"_deriveInternalFormat",value:function(t,e){if(this._context.type===c.a.WEBGL1)return t;switch(e){case l.q.FLOAT:switch(t){case l.p.RGBA:return l.v.RGBA32F;case l.p.RGB:return l.v.RGB32F;default:throw new Error("Unable to derive format")}case l.q.UNSIGNED_BYTE:switch(t){case l.p.RGBA:return l.v.RGBA8;case l.p.RGB:return l.v.RGB8}default:return t}}},{key:"_configurePixelStorage",value:function(){var t=this._context.gl,e=this._descriptor,r=e.unpackAlignment,n=e.flipped,i=e.preMultiplyAlpha;t.pixelStorei(t.UNPACK_ALIGNMENT,r),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,n?1:0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i?1:0)}},{key:"_texStorage",value:function(t,e,r,n,i,a){var o=this._context.gl;if(!Object(d.a)(o))throw new Error("Immutable textures are not supported in WebGL1");if(!function(t){return t in l.v}(e))throw new Error("Immutable textures must have a sized internal format");if(this._descriptor.isImmutable){var u=r?E(t,n,i,a):1;f(t)?o.texStorage3D(t,u,e,n,i,a):o.texStorage2D(t,u,e,n,i),this._wasImmutablyAllocated=!0}}},{key:"_texImage",value:function(t,e,r,n,i,a,o){var s=this._context.gl,l=null,d=this._context.type===c.a.WEBGL2,h=f(t),_=this._descriptor,E=_.isImmutable,T=_.pixelFormat,m=_.dataType;if(d&&(l=s),d||!p(o))if(E){if(Object(u.k)(o)){var I=o;h?l.texSubImage3D(t,e,0,0,0,n,i,a,T,m,I):s.texSubImage2D(t,e,0,0,n,i,T,m,I)}}else{var A=Object(u.q)(o);h?l.texImage3D(t,e,r,n,i,a,0,T,m,A):s.texImage2D(t,e,r,n,i,0,T,m,A)}else s.texImage2D(t,0,r,T,m,o)}},{key:"_compressedTexImage",value:function(t,e,r,n,i,a,o){var s=this._context.gl,l=null,d=f(t),h=this._descriptor.isImmutable;if(d){if(this._context.type!==c.a.WEBGL2)throw new Error("3D textures are not supported in WebGL1");l=s}h?Object(u.k)(o)&&(d?l.compressedTexSubImage3D(t,e,0,0,0,n,i,a,r,o):s.compressedTexSubImage2D(t,e,0,0,n,i,r,o)):d?l.compressedTexImage3D(t,e,r,n,i,a,0,o):s.compressedTexImage2D(t,e,r,n,i,0,o)}},{key:"_forEachMipmapLevel",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,r=this._descriptor,n=r.width,i=r.height,a=r.depth,o=r.hasMipmap,u=r.target,s=u===l.A.TEXTURE_3D,c=0;t(c,n,i,a),o&&(1!==n||1!==i||s&&1!==a)&&!(c>=e);++c)n=Math.max(1,n>>1),i=Math.max(1,i>>1),s&&(a=Math.max(1,a>>1))}}],[{key:"_validateTexture",value:function(t,e){(e.width<0||e.height<0||e.depth<0)&&console.error("Negative dimension parameters are not allowed!");var r=Object(d.a)(t.gl),n=Object(o.h)(e.width)&&Object(o.h)(e.height);r||!e.isImmutable&&!f(e.target)||console.error("Immutable and 3D-like textures are not supported in WebGL1!"),r||n||("number"==typeof e.wrapMode?e.wrapMode!==l.B.CLAMP_TO_EDGE&&console.error("Non-power-of-two textures must have a wrap mode of CLAMP_TO_EDGE!"):e.wrapMode.s===l.B.CLAMP_TO_EDGE&&e.wrapMode.t===l.B.CLAMP_TO_EDGE||console.error("Non-power-of-two textures must have a wrap mode of CLAMP_TO_EDGE!"),e.hasMipmap&&console.error("Mipmapping requires power-of-two textures!"))}},{key:"_applySamplingMode",value:function(t,e){var r=e.samplingMode,n=e.samplingMode;r===l.z.LINEAR_MIPMAP_NEAREST||r===l.z.LINEAR_MIPMAP_LINEAR?(r=l.z.LINEAR,e.hasMipmap||(n=l.z.LINEAR)):r!==l.z.NEAREST_MIPMAP_NEAREST&&r!==l.z.NEAREST_MIPMAP_LINEAR||(r=l.z.NEAREST,e.hasMipmap||(n=l.z.NEAREST)),t.texParameteri(e.target,t.TEXTURE_MAG_FILTER,r),t.texParameteri(e.target,t.TEXTURE_MIN_FILTER,n)}},{key:"_applyWrapMode",value:function(t,e){"number"==typeof e.wrapMode?(t.texParameteri(e.target,t.TEXTURE_WRAP_S,e.wrapMode),t.texParameteri(e.target,t.TEXTURE_WRAP_T,e.wrapMode)):(t.texParameteri(e.target,t.TEXTURE_WRAP_S,e.wrapMode.s),t.texParameteri(e.target,t.TEXTURE_WRAP_T,e.wrapMode.t))}},{key:"_applyAnisotropicFilteringParameters",value:function(t,e){var r,n=t.capabilities.textureFilterAnisotropic;n&&t.gl.texParameterf(e.target,n.TEXTURE_MAX_ANISOTROPY,null!==(r=e.maxAnisotropy)&&void 0!==r?r:1)}}]),t}();function _(t){return Object(u.k)(t)&&"type"in t&&"compressed"===t.type}function p(t){return Object(u.k)(t)&&!_(t)&&!function(t){return Object(u.k)(t)&&"byteLength"in t}(t)}function f(t){return t===l.A.TEXTURE_3D||t===l.A.TEXTURE_2D_ARRAY}function E(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=Math.max(e,r);return t===l.A.TEXTURE_3D&&(i=Math.max(i,n)),Math.round(Math.log(i)/Math.LN2)+1}h.TEXTURE_UNIT_FOR_UPDATES=0},192:function(t,e,r){"use strict";r.d(e,"a",(function(){return s})),r.d(e,"b",(function(){return u})),r.d(e,"c",(function(){return c})),r.d(e,"d",(function(){return l})),r.d(e,"e",(function(){return d}));var n=r(14),i=r(146),a=r(170);function o(t,e){return Array.isArray(e)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]):(t[0]=e.r,t[1]=e.g,t[2]=e.b,t[3]=e.a),t}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t[e+3];return t[e+0]*=n,t[e+1]*=n,t[e+2]*=n,r||(t[e+3]*=255),t}function s(t){return u(o([],t))}function c(t){if(!t)return 0;var e=t.r,r=t.g,n=t.b,i=t.a;return Object(a.b)(e*i,r*i,n*i,255*i)}function l(t){if(!t)return 0;var e=Object(n.a)(t,4),r=e[0],i=e[1],o=e[2],u=e[3];return Object(a.b)(r*(u/255),i*(u/255),o*(u/255),u)}function d(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(Object(i.j)(e))return t[r+0]=0,t[r+1]=0,t[r+2]=0,void(t[r+3]=0);var n=e.r,a=e.g,o=e.b,u=e.a;t[r+0]=n*u/255,t[r+1]=a*u/255,t[r+2]=o*u/255,t[r+3]=u}},301:function(t,e,r){"use strict";r.d(e,"a",(function(){return c})),r.d(e,"b",(function(){return u})),r.d(e,"c",(function(){return s}));var n=r(159),i=r(147),a=r(157).a.getLogger("esri/views/webgl");var o=!!Object(i.a)("enable-feature:webgl-debug");function u(){return o}function s(){return o}function c(t){if(u()){var e=t.getError();if(e){var r=function(t,e){switch(e){case t.INVALID_ENUM:return"Invalid Enum. An unacceptable value has been specified for an enumerated argument.";case t.INVALID_VALUE:return"Invalid Value. A numeric argument is out of range.";case t.INVALID_OPERATION:return"Invalid Operation. The specified command is not allowed for the current state.";case t.INVALID_FRAMEBUFFER_OPERATION:return"Invalid Framebuffer operation. The currently bound framebuffer is not framebuffer complete when trying to render to or to read from it.";case t.OUT_OF_MEMORY:return"Out of memory. Not enough memory is left to execute the command.";case t.CONTEXT_LOST_WEBGL:return"WebGL context has been lost";default:return"Unknown error"}}(t,e),i=(new Error).stack;a.error(new n.a("webgl-error","WebGL error occured",{message:r,stack:i}))}}}},422:function(t,e,r){"use strict";function n(t){return window.WebGL2RenderingContext&&t instanceof window.WebGL2RenderingContext}r.d(e,"a",(function(){return n}))}}]);